---
layout: default
title: Servicio de Correo
---

<section class="band band--mini bg-white"></section>

<section class="band bg-white">
  <div class="action-description action-description--pay">
    <h2>Consulta por correo</h2>
    <img src="media/icon-gmail.svg" class="icon" />
    <div class="service-price"><span>{{site.data.prices.correo}}</span>€</div>

    <div id="paypal-button-container"></div>

    <p>
      Si prefieres contarnos tu situación de forma más pausada y/o extensa, mándanos un correo y te
      responderemos con información detallada sobre tus dudas y con herramientas o ejercicios que te
      serán muy útiles para mejorar.
    </p>
  </div>

  <script src="https://www.paypalobjects.com/api/checkout.js"></script>

  <script>
    // Render the PayPal button
    paypal.Button.render(
      {
        // Set your environment
        env: "{{site.data.prices.paypal_env}}", // sandbox | production

        // Specify the style of the button
        style: {
          label: "pay",
          fundingicons: false, // optional
          branding: true, // optional
          size: "medium", // small | medium | large | responsive
          shape: "rect", // pill | rect
          color: "blue", // gold | blue | silver | black
        },

        // PayPal Client IDs - replace with your own
        // Create a PayPal app: https://developer.paypal.com/developer/applications/create
        client: {
          sandbox: "{{site.data.prices.paypal_sandbox}}",
          production: "{{site.data.prices.paypal_production}}",
        },

        // Show the buyer a 'Pay Now' button in the checkout flow
        commit: true,

        // Wait for the PayPal button to be clicked
        payment: function (data, actions) {
          const PRICE = "{{site.data.prices.correo}}";
          const CURRENCY = "EUR";
          const SERVICE = "Servicio de correo";
          const ISO_DATE = new Date().toISOString();

          return actions.payment.create({
            transactions: [
              {
                amount: {
                  total: PRICE,
                  currency: CURRENCY,
                },
                description: `Pago de ${PRICE} (${CURRENCY}) por ${SERVICE}`,
                custom: `chat-${ISO_DATE}`,
              },
            ],
            redirect_urls: {
              return_url: "/servicio-correo-ok.html",
              cancel_url: "/error-pago.html",
            },
          });
        },

        // Wait for the payment to be authorized by the customer
        onAuthorize: function (data, actions) {
          return actions.payment.execute().then(function () {
            actions.redirect();
          });
        },

        onError: function (err) {
          window.console.error("Error " + error);
          actions.redirect();
        },
      },
      "#paypal-button-container"
    );
  </script>
</section>
